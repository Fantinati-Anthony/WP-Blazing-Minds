/**
 * Mode inspecteur DevTools, sélection éléments
 * 
 * Reference file for feedback.css lines 2901-3270
 * See main file: assets/css/feedback.css
 * 
 * @package Blazing_Feedback
 */

/* 
 * This section includes:
 * - Start: Mode inspecteur
 * - End: Liste réorganisable
 * - Lines: 2901 to 3270 (~370 lines)
 * 
 * To view this section, read feedback.css with:
 * offset=2901, limit=370
 */
}

/* Réduire les animations si l'utilisateur le préfère */
@media (prefers-reduced-motion: reduce) {
    .wpvfh-container *,
    .wpvfh-container *::before,
    .wpvfh-container *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ==========================================================================
   Utilitaires
   ========================================================================== */

/* Masquer visuellement mais garder accessible */
.wpvfh-sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Empêcher l'impact SEO */
.wpvfh-container {
    contain: layout style;
}

/* ==========================================================================
   Mode inspecteur d'élément (style DevTools)
   ========================================================================== */

/* Overlay de sélection d'élément */
.wpvfh-element-inspector-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 2147483645;
    pointer-events: none;
    background: transparent;
}

/* Outline jaune sur l'élément survolé */
.wpvfh-element-highlight {
    position: fixed;
    pointer-events: none;
    z-index: 2147483646;
    border: 2px solid #f1c40f !important;
    background: rgba(241, 196, 15, 0.15) !important;
    box-shadow:
        0 0 0 2px rgba(241, 196, 15, 0.8),
        0 0 20px rgba(241, 196, 15, 0.4),
        inset 0 0 0 1px rgba(241, 196, 15, 0.6) !important;
    border-radius: var(--wpvfh-radius);
    transition: all 0.1s ease-out;
}

/* Label de l'élément survolé */
.wpvfh-element-highlight-label {
    position: absolute;
    bottom: 100%;
    left: 0;
    padding: 4px 8px;
    background: #f1c40f;
    color: #000;
    font-size: 11px;
    font-weight: 600;
    font-family: 'SF Mono', Monaco, 'Fira Code', monospace;
    border-radius: var(--wpvfh-radius) 3px 0 0;
    white-space: nowrap;
    transform: translateY(2px);
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.15);
}

/* Si le label dépasse en haut, le mettre en bas */
.wpvfh-element-highlight-label.bottom {
    bottom: auto;
    top: 100%;
    border-radius: 0 0 3px 3px;
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Élément sélectionné (contour permanent) */
.wpvfh-element-selected-outline {
    position: absolute;
    pointer-events: none;
    z-index: 999989;
    border: 3px solid #f1c40f !important;
    background: rgba(241, 196, 15, 0.1) !important;
    box-shadow:
        0 0 0 3px rgba(241, 196, 15, 0.5),
        0 0 30px rgba(241, 196, 15, 0.3),
        inset 0 0 15px rgba(241, 196, 15, 0.15) !important;
    border-radius: var(--wpvfh-radius);
    animation: wpvfh-element-pulse 2s ease-in-out infinite;
}

/* Élément avec feedback enregistré */
.wpvfh-element-feedback-outline {
    position: absolute;
    pointer-events: none;
    z-index: 999988;
    border: 2px solid #f1c40f !important;
    background: rgba(241, 196, 15, 0.05) !important;
    box-shadow: 0 0 0 2px rgba(241, 196, 15, 0.3) !important;
    border-radius: var(--wpvfh-radius);
    transition: all 0.2s ease;
}

.wpvfh-element-feedback-outline:hover,
.wpvfh-element-feedback-outline.active {
    border-color: #e74c3c !important;
    background: rgba(231, 76, 60, 0.08) !important;
    box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.4) !important;
}

/* Highlight dynamique basé sur la couleur du statut du feedback */
.wpvfh-element-feedback-outline.wpvfh-pin-highlighted {
    --highlight-color: var(--wpvfh-highlight-color, #f1c40f);
    --highlight-r: var(--wpvfh-highlight-r, 241);
    --highlight-g: var(--wpvfh-highlight-g, 196);
    --highlight-b: var(--wpvfh-highlight-b, 15);
    border-color: var(--highlight-color) !important;
    background: rgba(var(--highlight-r), var(--highlight-g), var(--highlight-b), 0.15) !important;
    box-shadow:
        0 0 0 4px rgba(var(--highlight-r), var(--highlight-g), var(--highlight-b), 0.6),
        0 0 20px rgba(var(--highlight-r), var(--highlight-g), var(--highlight-b), 0.5),
        0 0 40px rgba(var(--highlight-r), var(--highlight-g), var(--highlight-b), 0.3) !important;
    animation: wpvfh-highlight-pulse 1s ease-in-out infinite !important;
}

@keyframes wpvfh-highlight-pulse {
    0%, 100% {
        box-shadow:
            0 0 0 4px rgba(var(--wpvfh-highlight-r, 241), var(--wpvfh-highlight-g, 196), var(--wpvfh-highlight-b, 15), 0.6),
            0 0 20px rgba(var(--wpvfh-highlight-r, 241), var(--wpvfh-highlight-g, 196), var(--wpvfh-highlight-b, 15), 0.5),
            0 0 40px rgba(var(--wpvfh-highlight-r, 241), var(--wpvfh-highlight-g, 196), var(--wpvfh-highlight-b, 15), 0.3);
    }
    50% {
        box-shadow:
            0 0 0 6px rgba(var(--wpvfh-highlight-r, 241), var(--wpvfh-highlight-g, 196), var(--wpvfh-highlight-b, 15), 0.8),
            0 0 30px rgba(var(--wpvfh-highlight-r, 241), var(--wpvfh-highlight-g, 196), var(--wpvfh-highlight-b, 15), 0.7),
            0 0 60px rgba(var(--wpvfh-highlight-r, 241), var(--wpvfh-highlight-g, 196), var(--wpvfh-highlight-b, 15), 0.4);
    }
}

@keyframes wpvfh-element-pulse {
    0%, 100% {
        box-shadow:
            0 0 0 3px rgba(241, 196, 15, 0.5),
            0 0 30px rgba(241, 196, 15, 0.3),
            inset 0 0 15px rgba(241, 196, 15, 0.15);
    }
    50% {
        box-shadow:
            0 0 0 5px rgba(241, 196, 15, 0.7),
            0 0 40px rgba(241, 196, 15, 0.4),
            inset 0 0 20px rgba(241, 196, 15, 0.2);
    }
}

/* Pin numéroté en haut à droite INTÉRIEUR de l'élément */
.wpvfh-element-pin {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
    background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
    border: 3px solid #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 13px;
    font-weight: 700;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    box-shadow: 0 3px 10px rgba(231, 76, 60, 0.5), 0 2px 4px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    pointer-events: auto;
    transition: all 0.2s ease;
    animation: wpvfh-pin-appear 0.3s ease-out;
}

.wpvfh-element-pin:hover {
    transform: scale(1.15);
    box-shadow: 0 4px 14px rgba(231, 76, 60, 0.6), 0 3px 6px rgba(0, 0, 0, 0.25);
}

/* Couleurs par statut - UX friendly */
.wpvfh-element-pin[data-status="new"],
.wpvfh-element-pin.status-new {
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    box-shadow: 0 3px 10px rgba(52, 152, 219, 0.5), 0 2px 4px rgba(0, 0, 0, 0.2);
}

.wpvfh-element-pin[data-status="in_progress"],
.wpvfh-element-pin.status-in_progress {
    background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
    box-shadow: 0 3px 10px rgba(243, 156, 18, 0.5), 0 2px 4px rgba(0, 0, 0, 0.2);
}

.wpvfh-element-pin[data-status="resolved"],
.wpvfh-element-pin.status-resolved {
    background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%);
    box-shadow: 0 3px 10px rgba(39, 174, 96, 0.5), 0 2px 4px rgba(0, 0, 0, 0.2);
}

.wpvfh-element-pin[data-status="rejected"],
.wpvfh-element-pin.status-rejected {
    background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
    box-shadow: 0 3px 10px rgba(149, 165, 166, 0.5), 0 2px 4px rgba(0, 0, 0, 0.2);
}

.wpvfh-element-pin.active {
    background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
    box-shadow: 0 3px 10px rgba(155, 89, 182, 0.5), 0 2px 4px rgba(0, 0, 0, 0.2);
}

.wpvfh-element-pin.temporary {
    background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
    box-shadow: 0 3px 10px rgba(26, 188, 156, 0.5), 0 2px 4px rgba(0, 0, 0, 0.2);
    animation: wpvfh-pin-pulse 1.5s ease-in-out infinite;
}

@keyframes wpvfh-pin-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

@keyframes wpvfh-pin-appear {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* Badge pour sélection temporaire */
.wpvfh-element-selected-badge {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
    background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
    border: 3px solid #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 13px;
    font-weight: 700;
    box-shadow: 0 3px 10px rgba(26, 188, 156, 0.5);
    animation: wpvfh-pin-appear 0.3s ease-out;
    cursor: pointer;
    pointer-events: auto;
}

@keyframes wpvfh-badge-appear {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* Mode inspecteur actif - curseur personnalisé */
body.wpvfh-inspector-mode {
    cursor: crosshair !important;
}

body.wpvfh-inspector-mode * {
    cursor: crosshair !important;
}

/* Hint en haut pour le mode inspecteur */
.wpvfh-inspector-hint {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 24px;
    background: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%);
    color: #000;
    border-radius: var(--wpvfh-radius);
    box-shadow: 0 4px 20px rgba(241, 196, 15, 0.4);
    font-size: 14px;
    font-weight: 600;
    z-index: 2147483647;
    animation: wpvfh-hint-slide-in 0.3s ease-out;
}

@keyframes wpvfh-hint-slide-in {
    from {
        transform: translateX(-50%) translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
    }
}

.wpvfh-inspector-hint .wpvfh-hint-icon {
    font-size: 20px;
}

.wpvfh-inspector-hint .wpvfh-hint-cancel {
    padding: 6px 14px;
    background: rgba(0, 0, 0, 0.2);
    border: none;
    border-radius: var(--wpvfh-radius);
    color: #000;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
}

.wpvfh-inspector-hint .wpvfh-hint-cancel:hover {
    background: rgba(0, 0, 0, 0.3);
}

/* Masquer les pins pendant le mode inspecteur */
body.wpvfh-inspector-mode .wpvfh-pins-container {
    visibility: hidden !important;
}

/* Animation info-bulle de l'élément */
.wpvfh-selected-element-preview {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: #fff;
    border: 1px solid #e9ecef;
    border-radius: var(--wpvfh-radius);
    margin-top: 8px;
    font-size: 12px;
    color: #6c757d;
}

.wpvfh-selected-element-preview code {
    font-family: 'SF Mono', Monaco, monospace;
    font-size: 11px;
    background: #f8f9fa;